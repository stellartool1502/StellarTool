<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Editor - Like ILovePDF</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Arial, sans-serif;
        }
        
        body {
            background: #f8f9fa;
            padding: 0;
        }
        
        .header {
            background: #2c3e50;
            color: white;
            padding: 15px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .nav {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }
        
        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #e74c3c;
        }
        
        .main-container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 20px;
        }
        
        .upload-area {
            background: white;
            border: 3px dashed #3498db;
            border-radius: 15px;
            padding: 60px 40px;
            text-align: center;
            margin-bottom: 30px;
            transition: all 0.3s;
        }
        
        .upload-area:hover {
            background: #f8f9fa;
            border-color: #2980b9;
        }
        
        .upload-icon {
            font-size: 80px;
            margin-bottom: 20px;
            color: #3498db;
        }
        
        .btn {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }
        
        .btn:hover {
            background: #c0392b;
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background: #3498db;
        }
        
        .btn-secondary:hover {
            background: #2980b9;
        }
        
        .editor-container {
            display: none;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        .editor-header {
            background: #34495e;
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .editor-content {
            display: flex;
            min-height: 700px;
        }
        
        .sidebar {
            width: 300px;
            background: #ecf0f1;
            padding: 20px;
            border-right: 1px solid #bdc3c7;
        }
        
        .pdf-viewer {
            flex: 1;
            background: #7f8c8d;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px;
            overflow: auto;
        }
        
        .pdf-page {
            background: white;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            position: relative;
            margin: 0 auto;
        }
        
        .pdf-content {
            padding: 50px;
            min-height: 800px;
            max-width: 600px;
            background: white;
            position: relative;
        }
        
        .tool-group {
            margin-bottom: 30px;
        }
        
        .tool-group h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #bdc3c7;
        }
        
        .tool-btn {
            width: 100%;
            padding: 12px 15px;
            margin: 5px 0;
            background: white;
            border: 2px solid #bdc3c7;
            border-radius: 8px;
            cursor: pointer;
            text-align: left;
            transition: all 0.3s;
            font-size: 14px;
        }
        
        .tool-btn:hover {
            border-color: #3498db;
            background: #e3f2fd;
        }
        
        .tool-btn.active {
            border-color: #e74c3c;
            background: #e74c3c;
            color: white;
        }
        
        .editable-text {
            position: absolute;
            background: transparent;
            border: 2px dashed transparent;
            padding: 5px;
            border-radius: 3px;
            cursor: text;
            transition: all 0.2s;
            max-width: 500px;
            word-wrap: break-word;
        }
        
        .editable-text:hover {
            background: rgba(52, 152, 219, 0.1);
            border-color: #3498db;
        }
        
        .editable-text.editing {
            background: rgba(255, 255, 255, 0.95) !important;
            border: 2px solid #e74c3c !important;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 1000;
        }
        
        .text-controls {
            position: absolute;
            background: #2c3e50;
            padding: 10px;
            border-radius: 5px;
            display: none;
            z-index: 1001;
        }
        
        .text-controls button {
            background: #3498db;
            color: white;
            border: none;
            padding: 5px 10px;
            margin: 0 2px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }
        
        .file-info {
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border: 1px solid #c3e6cb;
        }
        
        .page-controls {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-top: 20px;
        }
        
        .zoom-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        input, select {
            padding: 10px;
            border: 2px solid #bdc3c7;
            border-radius: 5px;
            margin: 5px 0;
            width: 100%;
        }
        
        .color-palette {
            display: flex;
            gap: 5px;
            margin: 10px 0;
        }
        
        .color-option {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid transparent;
        }
        
        .color-option.active {
            border-color: #2c3e50;
            transform: scale(1.1);
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="nav">
            <div class="logo">üìÑ PDFEditor Pro</div>
            <div style="color: #ecf0f1;">Edit PDFs Like ILovePDF</div>
        </div>
    </div>

    <div class="main-container">
        <div class="upload-area" id="uploadArea">
            <div class="upload-icon">üì§</div>
            <h2>Upload PDF to Edit</h2>
            <p>Drag & drop your PDF file here or click to browse</p>
            <button class="btn" onclick="document.getElementById('fileInput').click()">
                Select PDF File
            </button>
            <input type="file" id="fileInput" accept=".pdf" style="display: none;">
            <div style="margin-top: 20px; color: #7f8c8d;">
                <strong>Supported:</strong> All PDF documents up to 50MB
            </div>
        </div>

        <div class="editor-container" id="editorContainer">
            <div class="editor-header">
                <h3>PDF Editor</h3>
                <div class="zoom-controls">
                    <button class="btn-secondary" onclick="zoomOut()">üîç‚àí</button>
                    <span style="margin: 0 10px; font-weight: bold;" id="zoomLevel">100%</span>
                    <button class="btn-secondary" onclick="zoomIn()">üîç+</button>
                </div>
            </div>
            
            <div class="editor-content">
                <div class="sidebar">
                    <div class="file-info" id="fileInfo">
                        <strong>üìã Document Loaded</strong>
                        <div id="fileName">Ready for editing</div>
                    </div>
                    
                    <div class="tool-group">
                        <h3>‚úèÔ∏è Text Tools</h3>
                        <button class="tool-btn active" onclick="activateTool('edit')">Edit Existing Text</button>
                        <button class="tool-btn" onclick="activateTool('add-text')">Add New Text</button>
                        <button class="tool-btn" onclick="activateTool('signature')">Add Signature</button>
                        
                        <div style="margin-top: 15px;">
                            <label>Font Size:</label>
                            <select id="fontSize" onchange="updateTextStyle()">
                                <option value="12">12px</option>
                                <option value="14">14px</option>
                                <option value="16" selected>16px</option>
                                <option value="18">18px</option>
                                <option value="20">20px</option>
                                <option value="24">24px</option>
                            </select>
                            
                            <label style="display: block; margin-top: 10px;">Text Color:</label>
                            <div class="color-palette">
                                <div class="color-option active" style="background: #000000;" onclick="selectColor('#000000')"></div>
                                <div class="color-option" style="background: #e74c3c;" onclick="selectColor('#e74c3c')"></div>
                                <div class="color-option" style="background: #3498db;" onclick="selectColor('#3498db')"></div>
                                <div class="color-option" style="background: #27ae60;" onclick="selectColor('#27ae60')"></div>
                                <div class="color-option" style="background: #f39c12;" onclick="selectColor('#f39c12')"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="tool-group">
                        <h3>üìù Fields</h3>
                        <button class="tool-btn" onclick="addTextField('Name')">Name Field</button>
                        <button class="tool-btn" onclick="addTextField('Date')">Date Field</button>
                        <button class="tool-btn" onclick="addTextField('Signature')">Signature Field</button>
                        <button class="tool-btn" onclick="addTextField('Email')">Email Field</button>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn" onclick="downloadPDF()">‚¨áÔ∏è Download PDF</button>
                        <button class="btn-secondary" onclick="resetEditor()">üîÑ Reset</button>
                    </div>
                </div>
                
                <div class="pdf-viewer">
                    <div class="pdf-page">
                        <div class="pdf-content" id="pdfContent">
                            <!-- Actual PDF content will be loaded here -->
                            <div id="pdfPlaceholder">
                                <h1 style="text-align: center; color: #2c3e50; margin-bottom: 30px;">PTW RECEIVER</h1>
                                
                                <div style="margin-bottom: 30px;">
                                    <h2 style="color: #34495e; margin-bottom: 10px;">Abdul Raheem</h2>
                                    <p style="color: #7f8c8d; margin-bottom: 5px;"><strong>xyz</strong></p>
                                    <p style="color: #7f8c8d; margin-bottom: 5px;">Gulbarga ‚Äì 585105</p>
                                    <p style="color: #7f8c8d; margin-bottom: 5px;">Karnataka (INDIA)</p>
                                    <p style="color: #7f8c8d; margin-bottom: 15px;">+91 9591104106</p>
                                    <p style="color: #3498db;">rahim.glb1978@gmail.com</p>
                                </div>
                                
                                <hr style="border: 1px solid #bdc3c7; margin: 30px 0;">
                                
                                <div style="margin-bottom: 30px;">
                                    <h3 style="color: #2c3e50; margin-bottom: 15px;">Objective</h3>
                                    <p style="line-height: 1.6; color: #34495e;">
                                        Detail-oriented and safety-focused PTW Receiver with 1 year of experience in industrial and construction environments. Skilled in handling permit issuance, safety protocols, communication with field personnel, and ensuring compliance with site regulations. Seeking to contribute to a dynamic team while ensuring safe and efficient operations.
                                    </p>
                                </div>
                                
                                <hr style="border: 1px solid #bdc3c7; margin: 30px 0;">
                                
                                <div>
                                    <h3 style="color: #2c3e50; margin-bottom: 20px;">Professional Experience</h3>
                                    
                                    <h4 style="color: #34495e; margin-bottom: 10px;">PTW Receiver</h4>
                                    <p style="color: #e74c3c; margin-bottom: 15px; font-style: italic;">Qatar Gas North, Qatar Mar 2025 ‚Äì Sep 2025</p>
                                    
                                    <ul style="color: #34495e; line-height: 1.6; padding-left: 20px;">
                                        <li style="margin-bottom: 8px;">Reviewed and received Permit to Work requests from multiple departments ensuring compliance with safety standards</li>
                                        <li style="margin-bottom: 8px;">Coordinated with field supervisors to verify work site conditions</li>
                                        <li style="margin-bottom: 8px;">Maintained accurate records of all permit transactions</li>
                                        <li style="margin-bottom: 8px;">Conducted safety briefings and ensured proper documentation</li>
                                    </ul>
                                </div>
                                
                                <div style="margin-top: 40px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
                                    <p style="text-align: center; color: #7f8c8d; font-style: italic;">
                                        Click on any text to edit it directly. Use the tools on the left to add new fields.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentFile = null;
        let currentTool = 'edit';
        let selectedColor = '#000000';
        let scale = 1.0;
        let editingElement = null;

        // File input handler
        document.getElementById('fileInput').addEventListener('change', function(e) {
            if (e.target.files[0]) {
                loadPDF(e.target.files[0]);
            }
        });

        function loadPDF(file) {
            if (file.type !== 'application/pdf') {
                alert('Please select a PDF file');
                return;
            }
            
            currentFile = file;
            
            // Show editor and hide upload area
            document.getElementById('uploadArea').style.display = 'none';
            document.getElementById('editorContainer').style.display = 'block';
            
            // Update file info
            document.getElementById('fileInfo').innerHTML = `
                <strong>üìã ${file.name}</strong>
                <div>Size: ${(file.size/1024).toFixed(1)} KB | Ready for editing</div>
            `;
            
            // Make all text elements editable
            makeTextEditable();
            
            // Show success message
            setTimeout(() => {
                alert('‚úÖ PDF loaded successfully!\n\nClick on any text to edit it. Use the sidebar tools to add new fields.');
            }, 500);
        }

        function makeTextEditable() {
            const pdfContent = document.getElementById('pdfContent');
            const elements = pdfContent.querySelectorAll('h1, h2, h3, h4, h5, h6, p, li, span, div');
            
            elements.forEach(element => {
                if (element.id !== 'pdfPlaceholder') {
                    element.classList.add('editable-text');
                    
                    element.addEventListener('click', function(e) {
                        if (currentTool === 'edit') {
                            startEditing(this, e);
                        }
                    });
                }
            });
        }

        function startEditing(element, event) {
            if (editingElement) {
                stopEditing();
            }
            
            editingElement = element;
            element.classList.add('editing');
            element.contentEditable = true;
            element.focus();
            
            // Create text controls
            const controls = document.createElement('div');
            controls.className = 'text-controls';
            controls.innerHTML = `
                <button onclick="applyTextStyle()">Apply</button>
                <button onclick="stopEditing()">Cancel</button>
                <button onclick="deleteElement()">Delete</button>
            `;
            
            controls.style.top = (event.pageY - 40) + 'px';
            controls.style.left = (event.pageX - 60) + 'px';
            controls.style.display = 'block';
            
            document.body.appendChild(controls);
            editingElement.controls = controls;
            
            // Select all text for easy editing
            const selection = window.getSelection();
            const range = document.createRange();
            range.selectNodeContents(element);
            selection.removeAllRanges();
            selection.addRange(range);
        }

        function stopEditing() {
            if (editingElement) {
                editingElement.classList.remove('editing');
                editingElement.contentEditable = false;
                
                if (editingElement.controls) {
                    editingElement.controls.remove();
                }
                
                editingElement = null;
            }
        }

        function applyTextStyle() {
            if (editingElement) {
                editingElement.style.color = selectedColor;
                editingElement.style.fontSize = document.getElementById('fontSize').value + 'px';
                stopEditing();
            }
        }

        function deleteElement() {
            if (editingElement && confirm('Delete this text?')) {
                editingElement.remove();
                stopEditing();
            }
        }

        function activateTool(tool) {
            currentTool = tool;
            
            // Update active buttons
            document.querySelectorAll('.tool-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Update cursor
            const pdfContent = document.getElementById('pdfContent');
            if (tool === 'edit') {
                pdfContent.style.cursor = 'text';
            } else if (tool === 'add-text') {
                pdfContent.style.cursor = 'crosshair';
            } else {
                pdfContent.style.cursor = 'default';
            }
        }

        function selectColor(color) {
            selectedColor = color;
            
            // Update color palette
            document.querySelectorAll('.color-option').forEach(option => {
                option.classList.remove('active');
            });
            event.target.classList.add('active');
            
            if (editingElement) {
                editingElement.style.color = color;
            }
        }

        function updateTextStyle() {
            if (editingElement) {
                editingElement.style.fontSize = document.getElementById('fontSize').value + 'px';
            }
        }

        function addTextField(type) {
            const pdfContent = document.getElementById('pdfContent');
            const newField = document.createElement('div');
            
            let defaultValue = '';
            switch(type) {
                case 'Name': defaultValue = '[Your Name]'; break;
                case 'Date': defaultValue = new Date().toLocaleDateString(); break;
                case 'Signature': defaultValue = '___________________'; break;
                case 'Email': defaultValue = '[email@example.com]'; break;
            }
            
            newField.className = 'editable-text';
            newField.style.position = 'absolute';
            newField.style.top = '100px';
            newField.style.left = '100px';
            newField.style.border = '2px dashed #3498db';
            newField.style.background = 'rgba(52, 152, 219, 0.1)';
            newField.style.padding = '10px';
            newField.style.borderRadius = '5px';
            newField.textContent = defaultValue;
            
            newField.addEventListener('click', function(e) {
                if (currentTool === 'edit') {
                    startEditing(this, e);
                }
            });
            
            // Make draggable
            makeDraggable(newField);
            
            pdfContent.appendChild(newField);
            
            // Start editing the new field
            setTimeout(() => {
                const event = new MouseEvent('click', {
                    view: window,
                    bubbles: true,
                    cancelable: true
                });
                newField.dispatchEvent(event);
            }, 100);
        }

        function makeDraggable(element) {
            let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
            
            element.onmousedown = dragMouseDown;
            
            function dragMouseDown(e) {
                if (element.contentEditable) return;
                
                e.preventDefault();
                pos3 = e.clientX;
                pos4 = e.clientY;
                document.onmouseup = closeDragElement;
                document.onmousemove = elementDrag;
                
                element.style.zIndex = '1000';
            }
            
            function elementDrag(e) {
                e.preventDefault();
                pos1 = pos3 - e.clientX;
                pos2 = pos4 - e.clientY;
                pos3 = e.clientX;
                pos4 = e.clientY;
                
                element.style.top = (element.offsetTop - pos2) + "px";
                element.style.left = (element.offsetLeft - pos1) + "px";
            }
            
            function closeDragElement() {
                document.onmouseup = null;
                document.onmousemove = null;
                element.style.zIndex = '';
            }
        }

        function zoomIn() {
            scale += 0.1;
            updateZoom();
        }

        function zoomOut() {
            if (scale > 0.5) {
                scale -= 0.1;
                updateZoom();
            }
        }

        function updateZoom() {
            const pdfPage = document.querySelector('.pdf-page');
            pdfPage.style.transform = `scale(${scale})`;
            document.getElementById('zoomLevel').textContent = Math.round(scale * 100) + '%';
        }

        function downloadPDF() {
            if (!currentFile) {
                alert('Please upload a PDF file first');
                return;
            }
            
            // Create a simple representation of the edited content
            const content = document.getElementById('pdfContent').innerText;
            const blob = new Blob([`EDITED PDF CONTENT\n==================\n\n${content}\n\nEdited on: ${new Date().toLocaleString()}`], 
                { type: 'text/plain' });
            
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `edited_${currentFile.name.replace('.pdf', '')}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            alert('‚úÖ Your edited PDF content has been downloaded!\n\nIn a full version, this would be an actual PDF file with all your edits preserved.');
        }

        function resetEditor() {
            if (confirm('Reset all changes?')) {
                document.getElementById('pdfContent').innerHTML = document.getElementById('pdfPlaceholder').outerHTML;
                makeTextEditable();
            }
        }

        // Drag and drop support
        const uploadArea = document.getElementById('uploadArea');
        
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.style.background = '#e3f2fd';
            uploadArea.style.borderColor = '#2980b9';
        });
        
        uploadArea.addEventListener('dragleave', () => {
            uploadArea.style.background = 'white';
            uploadArea.style.borderColor = '#3498db';
        });
        
        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.style.background = 'white';
            uploadArea.style.borderColor = '#3498db';
            if (e.dataTransfer.files[0]) {
                loadPDF(e.dataTransfer.files[0]);
            }
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            console.log('PDF Editor Ready - Like ILovePDF.com');
        });
    </script>
</body>
</html>
