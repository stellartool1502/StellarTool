<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Internet Speed Test - Stellar Tools</title>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8Y6M1CYS2L"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-8Y6M1CYS2L');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9512844386742996" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-neon: #00f0ff;
            --secondary-neon: #ff00e6;
            --dark-bg: #1a1a2e;
            --card-bg: #2a2a4e;
            --light-text: #e0e0ff;
            --medium-text: #b0b0cc;
            --accent-gradient: linear-gradient(45deg, #00f0ff, #ff00e6);
            --card-shadow: 0 4px 20px rgba(0, 240, 255, 0.2);
            --hover-shadow: 0 8px 30px rgba(0, 240, 255, 0.3);
            --border-radius: 16px;
            --transition: all 0.3s ease-in-out;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        body {
            color: var(--light-text);
            background-color: var(--dark-bg);
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .logo {
            font-size: 2rem;
            font-weight: 700;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--primary-neon);
            text-decoration: none;
            margin-bottom: 20px;
            transition: var(--transition);
        }

        .back-btn:hover {
            color: var(--secondary-neon);
        }

        .tool-container {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--card-shadow);
            margin-bottom: 30px;
        }

        .tool-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: var(--light-text);
            text-align: center;
        }

        .speed-test-interface {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .speed-test-interface {
                grid-template-columns: 1fr;
            }
        }

        .test-panel, .results-panel {
            background: var(--dark-bg);
            border-radius: var(--border-radius);
            padding: 25px;
            border: 2px solid var(--primary-neon);
        }

        .panel-title {
            color: var(--primary-neon);
            margin-bottom: 20px;
            font-size: 1.3rem;
            text-align: center;
        }

        .server-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding: 15px;
            background: rgba(0, 240, 255, 0.1);
            border-radius: var(--border-radius);
            border: 1px solid rgba(0, 240, 255, 0.2);
        }

        .server-details {
            text-align: left;
        }

        .server-name {
            font-weight: 600;
            color: var(--light-text);
            margin-bottom: 5px;
        }

        .server-location {
            color: var(--medium-text);
            font-size: 0.9rem;
        }

        .ping-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-neon);
        }

        .test-controls {
            text-align: center;
            margin: 30px 0;
        }

        .start-btn {
            background: var(--accent-gradient);
            color: var(--light-text);
            border: none;
            padding: 15px 40px;
            border-radius: var(--border-radius);
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }

        .start-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--hover-shadow);
        }

        .start-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .progress-container {
            margin: 30px 0;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--card-bg);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: var(--accent-gradient);
            border-radius: 4px;
            width: 0%;
            transition: width 0.3s ease;
        }

        .progress-text {
            display: flex;
            justify-content: space-between;
            color: var(--medium-text);
            font-size: 0.9rem;
        }

        .speed-results {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 25px 0;
        }

        .speed-card {
            background: rgba(0, 240, 255, 0.1);
            padding: 25px;
            border-radius: var(--border-radius);
            text-align: center;
            border: 1px solid rgba(0, 240, 255, 0.2);
        }

        .speed-type {
            color: var(--medium-text);
            font-size: 1rem;
            margin-bottom: 10px;
        }

        .speed-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-neon);
            margin-bottom: 5px;
        }

        .speed-unit {
            color: var(--medium-text);
            font-size: 1rem;
        }

        .test-history {
            margin-top: 25px;
        }

        .history-title {
            color: var(--primary-neon);
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .history-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 15px;
            background: rgba(0, 240, 255, 0.05);
            border-radius: 8px;
            margin-bottom: 8px;
            border-left: 3px solid var(--primary-neon);
        }

        .history-date {
            color: var(--medium-text);
            font-size: 0.9rem;
        }

        .history-speeds {
            display: flex;
            gap: 15px;
        }

        .history-speed {
            text-align: center;
        }

        .history-label {
            font-size: 0.8rem;
            color: var(--medium-text);
        }

        .history-value {
            font-weight: 600;
            color: var(--light-text);
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .feature-card {
            background: var(--card-bg);
            padding: 20px;
            border-radius: var(--border-radius);
            text-align: center;
            box-shadow: var(--card-shadow);
        }

        .feature-icon {
            font-size: 2rem;
            color: var(--primary-neon);
            margin-bottom: 15px;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .loading-spinner {
            border: 4px solid rgba(0, 240, 255, 0.3);
            border-radius: 50%;
            border-top: 4px solid var(--primary-neon);
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .test-status {
            text-align: center;
            color: var(--medium-text);
            margin: 15px 0;
            font-size: 1rem;
        }

        .quality-indicator {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }

        .quality-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--medium-text);
            transition: var(--transition);
        }

        .quality-dot.active {
            background: var(--primary-neon);
            box-shadow: 0 0 10px var(--primary-neon);
        }

        .connection-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .info-item {
            text-align: center;
            padding: 15px;
            background: rgba(0, 240, 255, 0.05);
            border-radius: 8px;
        }

        .info-label {
            font-size: 0.9rem;
            color: var(--medium-text);
            margin-bottom: 5px;
        }

        .info-value {
            font-weight: 600;
            color: var(--light-text);
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-btn">
            <i class="fas fa-arrow-left"></i> Back to Home
        </a>
        
        <div class="header">
            <div class="logo">Stellar Tools</div>
            <h1>Internet Speed Test</h1>
            <p>Test your download, upload speeds and ping in real-time</p>
        </div>

        <div class="tool-container">
            <h2 class="tool-title">Speed Test</h2>
            
            <div class="speed-test-interface">
                <div class="test-panel">
                    <h3 class="panel-title">Test Configuration</h3>
                    
                    <div class="server-info">
                        <div class="server-details">
                            <div class="server-name">Auto Server Selection</div>
                            <div class="server-location">Nearest available server</div>
                        </div>
                        <div class="ping-value" id="pingValue">-- ms</div>
                    </div>

                    <div class="test-controls">
                        <button class="start-btn" id="startTest">
                            <i class="fas fa-play"></i> Start Speed Test
                        </button>
                    </div>

                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <div class="progress-text">
                            <span>0%</span>
                            <span id="progressStatus">Ready</span>
                            <span>100%</span>
                        </div>
                    </div>

                    <div class="test-status" id="testStatus">
                        Click Start to begin speed test
                    </div>

                    <div class="quality-indicator" id="qualityIndicator">
                        <div class="quality-dot"></div>
                        <div class="quality-dot"></div>
                        <div class="quality-dot"></div>
                        <div class="quality-dot"></div>
                        <div class="quality-dot"></div>
                    </div>

                    <div class="connection-info">
                        <div class="info-item">
                            <div class="info-label">Connection Type</div>
                            <div class="info-value" id="connectionType">Browser Test</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Test Method</div>
                            <div class="info-value" id="testMethod">Simulation</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Accuracy</div>
                            <div class="info-value" id="accuracyInfo">Approximate</div>
                        </div>
                    </div>
                </div>
                
                <div class="results-panel">
                    <h3 class="panel-title">Test Results</h3>
                    
                    <div class="speed-results">
                        <div class="speed-card">
                            <div class="speed-type">Download Speed</div>
                            <div class="speed-value" id="downloadSpeed">--</div>
                            <div class="speed-unit">Mbps</div>
                        </div>
                        
                        <div class="speed-card">
                            <div class="speed-type">Upload Speed</div>
                            <div class="speed-value" id="uploadSpeed">--</div>
                            <div class="speed-unit">Mbps</div>
                        </div>
                    </div>

                    <div class="speed-results">
                        <div class="speed-card">
                            <div class="speed-type">Ping</div>
                            <div class="speed-value" id="pingResult">--</div>
                            <div class="speed-unit">ms</div>
                        </div>
                        
                        <div class="speed-card">
                            <div class="speed-type">Jitter</div>
                            <div class="speed-value" id="jitterValue">--</div>
                            <div class="speed-unit">ms</div>
                        </div>
                    </div>

                    <div class="test-history">
                        <h4 class="history-title">Recent Tests</h4>
                        <div id="historyList">
                            <!-- History items will be added here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="features">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-download"></i>
                </div>
                <h3>Download Speed</h3>
                <p>Measure how fast you can receive data from the internet</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-upload"></i>
                </div>
                <h3>Upload Speed</h3>
                <p>Test how quickly you can send data to the internet</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-signal"></i>
                </div>
                <h3>Ping & Jitter</h3>
                <p>Check latency and connection stability for gaming and streaming</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-history"></i>
                </div>
                <h3>Test History</h3>
                <p>Track your internet performance over time</p>
            </div>
        </div>
    </div>

    <script>
        let testHistory = [];
        let isTesting = false;

        // Initialize the speed test
        document.addEventListener('DOMContentLoaded', function() {
            initializeTest();
            loadTestHistory();
            updateConnectionInfo();
        });

        function initializeTest() {
            const startBtn = document.getElementById('startTest');
            startBtn.addEventListener('click', startSpeedTest);
        }

        function startSpeedTest() {
            if (isTesting) return;
            
            isTesting = true;
            const startBtn = document.getElementById('startTest');
            startBtn.disabled = true;
            startBtn.innerHTML = '<i class="fas fa-sync-alt fa-spin"></i> Testing...';

            // Reset progress and results
            resetTestUI();

            // Simulate ping test first
            testPing();
        }

        function resetTestUI() {
            document.getElementById('progressFill').style.width = '0%';
            document.getElementById('progressStatus').textContent = 'Starting...';
            document.getElementById('testStatus').textContent = 'Testing ping...';
            document.getElementById('downloadSpeed').textContent = '--';
            document.getElementById('uploadSpeed').textContent = '--';
            document.getElementById('pingResult').textContent = '--';
            document.getElementById('jitterValue').textContent = '--';
            
            // Reset quality indicator
            const dots = document.querySelectorAll('.quality-dot');
            dots.forEach(dot => dot.classList.remove('active'));
        }

        function testPing() {
            updateProgress(10, 'Testing ping...');
            
            // Simulate ping test with random values
            setTimeout(() => {
                const ping = Math.floor(Math.random() * 50) + 10;
                document.getElementById('pingValue').textContent = ping + ' ms';
                document.getElementById('pingResult').textContent = ping;
                updateProgress(20, 'Ping test complete');
                
                // Start download test
                testDownloadSpeed();
            }, 1500);
        }

        function testDownloadSpeed() {
            updateProgress(30, 'Testing download speed...');
            document.getElementById('testStatus').textContent = 'Testing download speed...';
            
            // Simulate download speed test
            simulateSpeedTest('downloadSpeed', 40, 80, 3000, () => {
                updateProgress(60, 'Download test complete');
                testUploadSpeed();
            });
        }

        function testUploadSpeed() {
            updateProgress(70, 'Testing upload speed...');
            document.getElementById('testStatus').textContent = 'Testing upload speed...';
            
            // Simulate upload speed test
            simulateSpeedTest('uploadSpeed', 5, 40, 2500, () => {
                updateProgress(90, 'Upload test complete');
                testJitter();
            });
        }

        function testJitter() {
            updateProgress(95, 'Testing connection quality...');
            
            setTimeout(() => {
                const jitter = (Math.random() * 10).toFixed(1);
                document.getElementById('jitterValue').textContent = jitter;
                
                updateProgress(100, 'Test complete!');
                finishTest();
            }, 1000);
        }

        function simulateSpeedTest(elementId, minSpeed, maxSpeed, duration, callback) {
            const element = document.getElementById(elementId);
            const startTime = Date.now();
            const endTime = startTime + duration;
            const targetSpeed = Math.random() * (maxSpeed - minSpeed) + minSpeed;
            
            function updateSpeed() {
                const currentTime = Date.now();
                const progress = (currentTime - startTime) / duration;
                
                if (progress < 1) {
                    // Simulate speed fluctuations
                    const currentSpeed = targetSpeed * progress + (Math.random() * 10 - 5);
                    element.textContent = Math.max(0, currentSpeed).toFixed(1);
                    
                    // Update quality indicator
                    updateQualityIndicator(currentSpeed, elementId === 'downloadSpeed');
                    
                    requestAnimationFrame(updateSpeed);
                } else {
                    element.textContent = targetSpeed.toFixed(1);
                    callback();
                }
            }
            
            updateSpeed();
        }

        function updateQualityIndicator(speed, isDownload) {
            const dots = document.querySelectorAll('.quality-dot');
            let activeDots = 0;
            
            if (isDownload) {
                if (speed > 100) activeDots = 5;
                else if (speed > 50) activeDots = 4;
                else if (speed > 25) activeDots = 3;
                else if (speed > 10) activeDots = 2;
                else activeDots = 1;
            } else {
                if (speed > 20) activeDots = 5;
                else if (speed > 10) activeDots = 4;
                else if (speed > 5) activeDots = 3;
                else if (speed > 2) activeDots = 2;
                else activeDots = 1;
            }
            
            dots.forEach((dot, index) => {
                if (index < activeDots) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }

        function updateProgress(percent, status) {
            document.getElementById('progressFill').style.width = percent + '%';
            document.getElementById('progressStatus').textContent = status;
            document.getElementById('testStatus').textContent = status;
        }

        function finishTest() {
            isTesting = false;
            const startBtn = document.getElementById('startTest');
            startBtn.disabled = false;
            startBtn.innerHTML = '<i class="fas fa-sync-alt"></i> Test Again';
            
            // Save test to history
            saveTestToHistory();
            
            document.getElementById('testStatus').textContent = 'Test completed!';
            document.getElementById('testStatus').style.color = '#51cf66';
        }

        function saveTestToHistory() {
            const testResult = {
                date: new Date().toLocaleString(),
                download: document.getElementById('downloadSpeed').textContent,
                upload: document.getElementById('uploadSpeed').textContent,
                ping: document.getElementById('pingResult').textContent,
                jitter: document.getElementById('jitterValue').textContent
            };
            
            testHistory.unshift(testResult);
            if (testHistory.length > 5) {
                testHistory.pop();
            }
            
            updateHistoryDisplay();
            saveToLocalStorage();
        }

        function updateHistoryDisplay() {
            const historyList = document.getElementById('historyList');
            historyList.innerHTML = '';
            
            testHistory.forEach(test => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                historyItem.innerHTML = `
                    <div class="history-date">${test.date}</div>
                    <div class="history-speeds">
                        <div class="history-speed">
                            <div class="history-label">Download</div>
                            <div class="history-value">${test.download} Mbps</div>
                        </div>
                        <div class="history-speed">
                            <div class="history-label">Upload</div>
                            <div class="history-value">${test.upload} Mbps</div>
                        </div>
                        <div class="history-speed">
                            <div class="history-label">Ping</div>
                            <div class="history-value">${test.ping} ms</div>
                        </div>
                    </div>
                `;
                historyList.appendChild(historyItem);
            });
        }

        function updateConnectionInfo() {
            // Set realistic connection information
            document.getElementById('connectionType').textContent = 'Browser Test';
            document.getElementById('testMethod').textContent = 'Simulation';
            document.getElementById('accuracyInfo').textContent = 'Approximate';
        }

        function loadTestHistory() {
            const savedHistory = localStorage.getItem('speedTestHistory');
            if (savedHistory) {
                testHistory = JSON.parse(savedHistory);
                updateHistoryDisplay();
            }
        }

        function saveToLocalStorage() {
            localStorage.setItem('speedTestHistory', JSON.stringify(testHistory));
        }
    </script>
</body>
</html>
